<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700;900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/fad080428c.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <title>The Best</title>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">
    </div>
    <div id="cards"></div>
    <script>
      function trocarClasse(opa){
        if(opa.classList.contains('fas') === true){
          opa.classList.remove('fas')
          opa.classList.add('far')
          var favdiv = []
        var favlist = localStorage.getItem('favlist')
        if (favlist != null && favlist != ''){
          var favdiv = favlist.split(',')
        }
        favdiv.splice(opa.id, 1)
        localStorage.setItem('favlist', favdiv)
          return
          // usar toggle na proxima vez seu burro
        } else{
          opa.classList.remove('far')
        opa.classList.add('fas')
        var favdiv = []
        var favlist = localStorage.getItem('favlist')
        if (favlist != null && favlist != ''){
          var favdiv = favlist.split(',')
        }
        favdiv.push(opa.id)
        console.log(opa.id)
        localStorage.setItem('favlist', favdiv)
        }


      }
      function remove(opa){
        document.location.reload(true)
        console.log(opa)
        var list = localStorage.getItem('movielist')  
        movieList = list.split(',')
        const items = localStorage.getItem(movieList[opa.id])
        var div = JSON.parse(items)
        localStorage.removeItem(div.title)
        movieList.splice(opa.id, 1)
        localStorage.setItem('movielist', movieList)

      }
       function openOverview(i){
         console.log(i)
         var container = document.querySelector('.container-overview')
         var star = 'far'
         var favlist = localStorage.getItem('favlist')

        var list = localStorage.getItem('movielist')  
        movieList = list.split(',')
        const items = localStorage.getItem(movieList[i.id])
        
        var div = JSON.parse(items)
        if (favlist != null && favlist != ''){
          if(favlist.includes(div.title) === true){
            var star = 'fas'
          }
      }
        console.log(div.title)
        container.innerHTML = `            
  <section class="container-overview2" >
    <div class="overview-content" style='background: url(${`https://image.tmdb.org/t/p/w500${div.backdrop_path}`}) no-repeat; background-size: 100% auto; padding: 0; margin:0;'>
        <div class="opacity-display" style='background-color: rgba(27, 23, 29, 0.9); background-size: inherit; height: 100%; padding: 30px; border-radius: 10px;'>
          <div class="header-overview">
              <i class="${star} fa-star" onclick='trocarClasse(this)' id='${div.title}'><p class='starlabel'>The Best!</p></i>
              <h1 class='overview-title'>${div.title}</h1>
              <i class="fas fa-times" onclick='closeOverview()'></i>
          </div>
          <div class="overview-display">
              <iframe class='video' width="500px" height="281px" src="https://www.youtube.com/embed/${div.key}?autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              <p class="overview">${div.overview}</p>
          </div>
        </div>
    </div>
</section> 
        `
        container.style.display = 'flex'
        
        }
        function openOverview3(i){
         console.log(i)
         var container = document.querySelector('.container-overview')
         var star = 'far'
         var favlist = localStorage.getItem('favlist')

        var list = localStorage.getItem('favlist')  
        movieList = list.split(',')
        const items = localStorage.getItem(movieList[i.id])
        console.log(items)
        var div = JSON.parse(items)
        if (favlist != null && favlist != ''){
          if(favlist.includes(div.title) === true){
            var star = 'fas'
          }
      }
        console.log(div.title)
        container.innerHTML = `            
  <section class="container-overview2" >
    <div class="overview-content" style='background: url(${`https://image.tmdb.org/t/p/w500${div.backdrop_path}`}) no-repeat; background-size: 100% auto; padding: 0; margin:0;'>
        <div class="opacity-display" style='background-color: rgba(27, 23, 29, 0.9); background-size: inherit; height: 100%; padding: 30px; border-radius: 10px;'>
          <div class="header-overview">
              <i class="${star} fa-star" onclick='trocarClasse(this)' id='${div.title}'><p class='starlabel'>The Best!</p></i>
              <h1 class='overview-title'>${div.title}</h1>
              <i class="fas fa-times" onclick='closeOverview()'></i>
          </div>
          <div class="overview-display">
              <iframe class='video' width="500px" height="281px" src="https://www.youtube.com/embed/${div.key}?autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              <p class="overview">${div.overview}</p>
          </div>
        </div>
    </div>
</section> 
        `
        container.style.display = 'flex'
        
        }
        function openOverview2(i){
         
         var container = document.querySelector('.container-overview')
        
        
          
        var list = localStorage.getItem('movielist-2')  
        movieList = list.split(',')
        const items = localStorage.getItem(movieList[i.id])

        var div = JSON.parse(items)
        container.innerHTML = `            
        <section class="container-overview2" >
    <div class="overview-content" style='background: url(${`https://image.tmdb.org/t/p/w500${div.backdrop_path}`}) no-repeat; background-size: 100% auto; padding: 0; margin:0;'>
        <div class="opacity-display" style='background-color: rgba(27, 23, 29, 0.88); background-size: inherit; height: 100%; padding: 30px; border-radius: 10px;'>
          <div class="header-overview">
              <i class="far fa-star" onclick='trocarClasse(this)'><p class='starlabel'>The Best!</p></i>
              <h1 class='overview-title'>${div.title}</h1>
              <i class="fas fa-times" onclick='closeOverview()'></i>
          </div>
          <div class="overview-display">
              <iframe class='video' width="500px" height="281px" src="https://www.youtube.com/embed/${div.key}?autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
              <p class="overview">${div.overview}</p>
          </div>
        </div>
    </div>
  </section> 
        `
        container.style.display = 'flex'
        
        }

      function closeOverview(){
        document.location.reload(true)
        const container = document.querySelector('.container-overview')
        container.style.display = 'none'
      }
      function refresh(){
        alert('oi')
      }


    </script>
  </body>
</html>
